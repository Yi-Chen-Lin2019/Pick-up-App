@using System.Web.Optimization;
@model WebUI.ViewModels.LoginViewModel
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    @{ViewBag.Title = "PickUpApp";}
    <title>@ViewBag.Title</title>
    @Styles.Render("~/Content/css")
    @Styles.Render("~/Bundle/sass")
    @Scripts.Render("~/bundles/modernizr")
</head>
<body>
    <script>
        function redirectToHomePage() {
            window.location.href = '/';
        }
        function redirectToShoppingCart() {
            window.location.href = '/ShoppingCart';
        }
        function redirectToRegister() {
            window.location.href = '/Account';
        }
        function searchProduct() {
            window.location.href = '/Product/Search?query=' + document.querySelector('#searchTerm').value.toLowerCase();
        }
    </script>
    <main class="main-container">
        <div class="container-fluid">
            @RenderBody()
        </div>
    </main>
    <header class="header" id="header">
        <div class="header-fixed">
            <div class="header-container">
                <div class="logo-container" onclick="redirectToHomePage()">
                    <a class="logo" href="#">
                        Pick-Up App
                    </a>
                </div>
                <div class="searchBar-container">
                    <div class="searchBar-box">
                        <input type="text" class="searchTerm" id="searchTerm" placeholder="Search e.g. Milk">
                        <button type="submit" class="searchButton" onclick="searchProduct()">
                            <i class="fa fa-search">GO</i>
                        </button>
                    </div>
                </div>
                <div class="cartContainer" onclick="redirectToShoppingCart()">
                    <div class="cartIcon">
                        <img src="~/Content/img/CartIcon.svg" runat="server" style="height: 3rem; width: 3rem;" />
                        <div class="cartPrice">
                            999999 DKK
                        </div>
                    </div>
                </div>
                <div class="user-profile-container">
                    <div class="user-profile-box" onclick="LogInWindowOnClick()">
                        <div class="user-icon">
                            <img src="~/Content/img/UserIcon.svg" runat="server" style="height: 3rem; width: 3rem;" />
                        </div>
                        <div class="user-name">
                            LOG IN
                        </div>
                    </div>
                    <div class="login loginDisable" id="login-id">
                        <div class="arrow-up"></div>
                        <div class="formholder">
                            <div class="randompad">
                                @using (Html.BeginForm("Login", "Account", FormMethod.Post))
                                {
                                    @Html.AntiForgeryToken()
                                    <div class="form-group">
                                        @Html.LabelFor(m => m.Email)
                                        @Html.TextBoxFor(m => m.Email, "", new { @class = "form-control", @placeholder = "Email" })

                                    </div>
                                    <div class="form-group">
                                        @Html.LabelFor(m => m.Password)
                                        @Html.PasswordFor(m => m.Password, new { @class = "form-control", @placeholder = "Password" })
                                    </div>
                                    <div class="form-group">
                                        <input type="submit" name="submit" class="btn btn-primary" value="Login" />
                                    </div>
                                }
                                <label id="register" name="register" onclick="redirectToRegister()">Register</label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>
    <script>
        function LogInWindowOnClick() {
            if (document.querySelector('#login-id').classList.length == 2) {
                document.querySelector('#login-id').classList.remove("loginDisable");
            }
            else {
                document.querySelector('#login-id').classList.add("loginDisable");
            }
        }
    </script>
    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/bootstrap")
    @RenderSection("scripts", required: false)
</body>
</html>
